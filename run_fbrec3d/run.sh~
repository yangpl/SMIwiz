#suwaveform type=ricker1 dt=0.004 ns=1000 fpeak=5 |sustrip > fricker

echo "#input parameters
===============================================================================
mode=4 //0=modeling; 1=FWI; 2=RTM; 3=LSRTM; 4=FWI gradient; 5=source inversion
ifbrec=1 //check backward reconstructed wavefield is the same as forward field

acquifile=acqui.txt
vpfile=vp_init
rhofile=rho
stffile=fricker

nt=500 //number of time steps
dt=0.008 //temporal sampling
nb=20  //number of layers for absorbing boundaries
n1=81 //size of input FD model
n2=181 //size of input FD model
n3=181
d1=50 //grid spacing of the input FD model
d2=50 //grid spacing of the input FD model
d3=50
dr=5 //decimation ratio from CFL to Nyquist
freesurf=1 //free surface boundary condition


===============================================================================
niter=50 //number of iterations using l-BFGS
nls=20 //number of line search per iteration
npair=5 //memory length in l-BFGS
preco=1 //precondition

npar=1 //only 1 parameter - velocity
idxpar=1
bound=1 //bound the inversion parameters
vpmin=1200
vpmax=3700
rhomin=1000
rhomax=1000


" >inputpar.txt

#to run the code: 
mpirun -n 1 ../bin/fdtd $(cat inputpar.txt)

